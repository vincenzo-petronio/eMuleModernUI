<!DOCTYPE html>
<html lang="no-js">
	<head>
		<meta charset="utf-8">

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>[eMuleAppName] [version] - [WebControl]</title>
		<meta name="description" content="Template for eMule Web interface based on HTML5 Boilerplate & Bootstrap">
		<meta name="viewport" content="width=device-width; initial-scale=1.0">
		
		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico">
		<link rel="apple-touch-icon" href="/apple-touch-icon.png">
		
		<link rel="stylesheet" href="css/bootswatch/bootstrap.min.css">
		<link rel="stylesheet" href="css/bootstrap-theme.min.css">
		<script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
		<style>
			.top-buffer { 
				margin-top:50px; 
			}
		</style>
	</head>

	<body>
		<div class="container">
			<div class="row top-buffer">
				<div class="col-sm-12">
					<div class="table-responsive">
						<table class="table table-hover table-bordered">
							<thead>
								<tr>
									<th>
										<a id="popoverTransferColumnMenu" rel="popover" href="#" data-placement="bottom" data-trigger="click" data-content="" data-html="true"><img src="arrow_down.gif">[DownloadList]</a>
									</th>
									<th>
										<a id="popoverTransferCatMenu" rel="popover" href="#" data-placement="bottom" data-trigger="click" data-content="" data-html="true"><img src="m_category.gif">[Category]</a>
									</th>
									<th>
										<a href="?ses=[Session]&amp;w=transfer&clearcompleted=all"><img src="m_clearcompleted.gif"></a>
									</th>
									<th>
										<a id="popoverTransferPrioMenu" rel="popover" href="#" data-placement="bottom" data-trigger="click" data-content="" data-html="true"><img src="m_catprio.gif"></a>
									</th>
								</tr>
								<tr>
									<th><a href="?ses=[Session]&amp;w=transfer&amp;sort=dstate[SortDState]"><b>&times;</b></a></th>
									<th><a href="?ses=[Session]&amp;w=transfer&amp;sort=dtype[SortDType]"><b>&times;</b></a></th>
									<th><a href="?ses=[Session]&amp;w=transfer&amp;sort=dname[SortDName]"><b>[DFilename][DFilenameI]</b></a></th>
									<th><a href="?ses=[Session]&amp;w=transfer&amp;sort=dsize[SortDSize]"><b>[DSize][DSizeI]</b></a></th>
									<th><a href="?ses=[Session]&amp;w=transfer&amp;sort=dtransferred[SortDTransferred]"><b>[DTransferred][DTransferredI]</b></a></th>
									<th><a href="?ses=[Session]&amp;w=transfer&amp;sort=dprogress[SortDProgress]"><b>[DProgress][DProgressI]</b></a></th>
									<th><a href="?ses=[Session]&amp;w=transfer&amp;sort=dspeed[SortDSpeed]"><b>[DSpeed][DSpeedI]</b></a></th>
									<th><a href="?ses=[Session]&amp;w=transfer&amp;sort=dsources[SortDSources]"><b>[DSources][DSourcesI]</b></a></th>
									<th><a href="?ses=[Session]&amp;w=transfer&amp;sort=dpriority[SortDPriority]"><b>[DPriority][DPriorityI]</b></a></th>
									<th><a href="?ses=[Session]&amp;w=transfer&amp;sort=dcategory[SortDCategory]"><b>[DCategory][DCategoryI]</b></a></th>
								</tr>
								<tr>
									<th><b>[TotalDown]</b></th>
									<th></th>
									<th></th>
									<th><b>[TotalDownSize]</b></th>
									<th><b>[TotalDownTransferred]</b></th>
									<th></th>
									<th><b>[TotalDownSpeed]</b></th>
									<th></th>
									<th></th>
									<th><b>[TotalFiles]</b></th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<div class="row top-buffer">
				<div class="col-sm-12">
					<div class="table-responsive">
						<table class="table table-hover table-bordered">
							<thead>
								<tr>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<div class="row top-buffer">
				<div class="col-sm-12">
					<div class="table-responsive">
						<table class="table table-hover table-bordered">
							<thead>
								<tr>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		
		<!-- /container -->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
		<script src="js/vendor/bootstrap.min.js"></script>
		
		<script type="text/javascript">
			$(document).ready(
				function () {
					$("#popoverTransferColumnMenu").popover({
						content: columnmenu(event, 'transfer', 'menudown', '[DFilenameM]', '[DFilename]', 
						'[DSizeM]', '[DSize]', '[DTransferredM]', '[DTransferred]', 
						'[DProgressM]', '[DProgress]', '[DSpeedM]', '[DSpeed]', '[DSourcesM]', 
						'[DSources]', '[DPriorityM]', '[DPriority]', 
						'[DCategoryM]', '[DCategory]', '', '', '', '', '', '')
					}).on("mouseenter", function () {
						var _this = this;
						$(this).popover("show");
						$(this).siblings(".popover").on("mouseleave", function () {
							$(_this).popover('hide');
						});
					}).on("mouseleave", function () {
						var _this = this;
						setTimeout(function () {
							if (!$(".popover:hover").length) {
								$(_this).popover("hide");
							}
						}, 300);
					});
					
					$("#popoverTransferCatMenu").popover({
						content: columnmenu(event, '[CatBox]')
					}).on("mouseenter", function () {
						var _this = this;
						$(this).popover("show");
						$(this).siblings(".popover").on("mouseleave", function () {
							$(_this).popover('hide');
						});
					}).on("mouseleave", function () {
						var _this = this;
						setTimeout(function () {
							if (!$(".popover:hover").length) {
								$(_this).popover("hide");
							}
						}, 300);
					});
					
					$("#popoverTransferPrioMenu").popover({
						content: catpriomenu(event, '[admin]', '[Session]')
					}).on("mouseenter", function () {
						var _this = this;
						$(this).popover("show");
						$(this).siblings(".popover").on("mouseleave", function () {
							$(_this).popover('hide');
						});
					}).on("mouseleave", function () {
						var _this = this;
						setTimeout(function () {
							if (!$(".popover:hover").length) {
								$(_this).popover("hide");
							}
						}, 300);
					});
				}
			);
			
			function columnmenu(event, tab, menu, m1, e1, m2, e2, m3, e3, m4, e4, m5, e5, m6, e6, m7, e7, m8, e8, m9, e9, m10, e10, m11, e11) {
				var code = new Array();
				code = "";

				for (i=1; i<=11; i++) {
					try {
						var e = eval('e'+i);
						var m = eval('m'+i);
						var j = i - 1;
				
						if(e != "") { 
							code += '<a href="?ses=[Session]&amp;w=' + tab + '&amp;c=' + menu + '&amp;m=' + j +'&amp;v=1"><p><img src="checked.gif" style="background: #999; padding: 2px;">' + m + '&nbsp;</p></a>';
						}
						else if(m != "") { 
							code += '<a href="?ses=[Session]&amp;w=' + tab + '&amp;c=' + menu + '&amp;m=' + j +'&amp;v=0"><p><img src="checked_no.gif" style="background: #999; padding: 2px;">' + m +'&nbsp;</p></a>';
						}
					} catch(e) {
						alert('Doesn\'t exist that variable');
					}
				}
				
				return code;
			}
			
			function catpriomenu(event, admin, session) {
				var code = new Array();
				
				if(admin == "admin") {
					code = '<a href="?ses=' + session + '&w=transfer&c=menuprio&p=low"><div><img src="checked_no.gif">[PriorityLow]&nbsp;</div></a>';
					code += '<a href="?ses=' + session + '&w=transfer&c=menuprio&p=normal"><div><img src="checked_no.gif">[PriorityNormal]&nbsp;</div></a>';
					code += '<a href="?ses=' + session + '&w=transfer&c=menuprio&p=high"><div><img src="checked_no.gif">[PriorityHigh]&nbsp;</div></a>';
					code += '<a href="?ses=' + session + '&w=transfer&c=menuprio&p=auto"><div><img src="checked_no.gif">[PriorityAuto]&nbsp;</div></a>';
				}
				
				return code;
			}
		</script>
	</body>
</html>

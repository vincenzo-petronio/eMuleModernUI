<!DOCTYPE html>
<html class="no-js">
	<head>
		<meta charset="utf-8">

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>[eMuleAppName] [version] - [WebControl]</title>
		<meta name="description" content="Template for eMule Web interface based on HTML5 Boilerplate & Bootstrap">
		<meta name="viewport" content="width=device-width; initial-scale=1.0">

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico">
		<link rel="apple-touch-icon" href="/apple-touch-icon.png">
		
		<link rel="stylesheet" href="css/bootswatch/bootstrap.min.css">
		<link rel="stylesheet" href="css/bootstrap-theme.min.css">
		<script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
		<style>
			.top-buffer { 
				margin-top:50px; 
			}
		</style>
	</head>

	<body>
		<div class="container">
			<div class="row">
				<div class="col-sm-4 col-sm-offset-4">
					<form role="form" method="get" action="">
						<div class="form-group">
							<input type="text" class="form-control" name="tosearch" placeholder="[Name]">
						</div>
						<div class="form-group">
							<label>
								[Unicode]
								<input type="checkbox" name="unicode" checked>
							</label>
						</div>
						<div class="form-group">
							<label>[Type]</label>
							<select class="form-control" name="priority">
								<option value="">[Any]</option>
								<option value="Arc">[Archive] (.zip .rar .ace...)</option>
								<option value="Audio">[Audio] (.mp3 .ogg .wav...)</option>
								<option value="Iso">[CDImage] (.iso .bin .nrg...)</option>
								<option value="Doc">[Document] (.doc .txt .pdf...)</option>
								<option value="Image">[Image] (.jpg .gif .png...)</option>
								<option value="Pro">[Program] (.exe .zip .rar...)</option>
								<option value="Video">[Video] (.avi .mpg .ogm...)</option>
							</select>
						</div>
						<div class="form-group">
							<input name="min" type="text" class="form-control" placeholder="[SizeMin]">
						</div>
						<div class="form-group">
							<input name="max" type="text" class="form-control" placeholder="[SizeMax]">
						</div>
						<div class="form-group">
							<input name="avail" type="text" class="form-control" placeholder="[Availabl]">
						</div>
						<div class="form-group">
							<input name="ext" type="text" class="form-control" placeholder="[Extention]">
						</div>
						<div class="form-group">
							<p>[METHOD]</p>
							<label>
								[USEKADEMLIA]
								<input value="kademlia" type="radio" name="method" checked>
							</label><br />
							<label>
								[Global]
								<input value="global" type="radio" name="method">
							</label><br />
							<label>
								[USESSERVER]
								<input value="server" type="radio" name="method">
							</label><br />
						</div>
						<div>
							<input type="hidden" name=ses value="[Session]">
							<input type="hidden" name=w value="search">
							<button type="submit" class="btn btn-default">[Search]</button>
						</div>
					</form>
				</div>
			</div>
			
			<div class="row top-buffer">
				<div class="col-sm-12">
					<form role="form" method="get" action="/">
						<table class="table table-hover table-bordered">
							<thead>
								<tr>
									<th>
										<a href="#" id="popoverSearchColumnMenu" rel="popover" data-placement="bottom" data-trigger="click" data-content="" data-html="true">[Result]</a> 
										<a href="?ses=[Session]&amp;w=search">([Message])</a>
									</th>
								</tr>
								<tr>
									<th><a href="?ses=[Session]&amp;w=search&amp;sort=3&amp;sortAsc=[SORTASCVALUE3]">&times;</a></th>
									<th><a href="?ses=[Session]&amp;w=search&amp;sort=5&amp;sortAsc=[SORTASCVALUE5]">&times;</a></th>
									<th><a href="?ses=[Session]&amp;w=search&amp;sort=0&amp;sortAsc=[SORTASCVALUE0]">[FilenameH][FilenameI]</a></th>
									<th><a href="?ses=[Session]&amp;w=search&amp;sort=1&amp;sortAsc=[SORTASCVALUE1]">[FilesizeH][FilesizeI]</a></th>
									<th><a href="?ses=[Session]&amp;w=search&amp;sort=2&amp;sortAsc=[SORTASCVALUE2]">[FilehashH][FilehashI]</a></th>
									<th><a href="?ses=[Session]&amp;w=search&amp;sort=3&amp;sortAsc=[SORTASCVALUE3]">[SourcesH][SourcesI]</a></th>
								</tr>
							</thead>
							<tbody>
								<tr style="background-color: #C0C0C0;">
									<td><img src="l_sources_%s.gif"><a href="#" id="popoverDownloadEd2k" rel="popover" data-placement="right" data-trigger="hover" data-content="%s"><img src="is_%s.gif" style="display: none"></a></td>
									<td><img src="filetype_%s.gif"></td>
									<td><p>%s</p></td>
									<td><p>%s</p></td>
									<td><p>%s</p></td>
									<td><p>%s</p></td>
									<td><input type="checkbox" name="downloads" value="%s"></td>
								</tr>
							</tbody>
						</table>
						<input type="hidden" name=ses value="[Session]">
						<input type="hidden" name=w value="search">
						<button type="submit" class="btn btn-default">[Download]</button>
					</form>
				</div>
			</div>
			
		</div>
		
		<!-- /container -->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
		<script src="js/vendor/bootstrap.min.js"></script>
		<script>
			$(document).ready(
				function() {
					$("#popoverSearchColumnMenu").popover({
						content: columnmenu(event, 
							'search', 'menu', '[FilenameM]', '[FilenameH]', '[FilesizeM]', '[FilesizeH]', 
							'[FilehashM]', '[FilehashH]', '[SourcesM]', '[SourcesH]', '', '', '', '', 
							'', '', '', '', '', '', '', '', '', '')
					}).on("mouseenter", function () {
						var _this = this;
						$(this).popover("show");
						$(this).siblings(".popover").on("mouseleave", function () {
							$(_this).popover('hide');
						});
					}).on("mouseleave", function () {
						var _this = this;
						setTimeout(function () {
							if (!$(".popover:hover").length) {
								$(_this).popover("hide");
							}
						}, 300);
					});
					
					$("#popoverDownloadEd2k").popover().on("mouseenter", function () {
						var _this = this;
						$(this).popover("show");
						$(this).siblings(".popover").on("mouseleave", function () {
							$(_this).popover('hide');
						});
					}).on("mouseleave", function () {
						var _this = this;
						setTimeout(function () {
							if (!$(".popover:hover").length) {
								$(_this).popover("hide");
							}
						}, 300);
					});
				}
			);
			
			function columnmenu(event, tab, menu, m1, e1, m2, e2, m3, e3, m4, e4, m5, e5, m6, e6, m7, e7, m8, e8, m9, e9, m10, e10, m11, e11) {
				var code = new Array();
				code = "";

				for (i=1; i<=11; i++) {
					try {
						var e = eval('e'+i);
						var m = eval('m'+i);
						var j = i - 1;
				
						if(e != "") { 
							code += '<a href="?ses=[Session]&amp;w=' + tab + '&amp;c=' + menu + '&amp;m=' + j +'&amp;v=1"><p><img src="checked.gif" style="background: #999; padding: 2px;">' + m + '&nbsp;</p></a>';
						}
						else if(m != "") { 
							code += '<a href="?ses=[Session]&amp;w=' + tab + '&amp;c=' + menu + '&amp;m=' + j +'&amp;v=0"><p><img src="checked_no.gif" style="background: #999; padding: 2px;">' + m +'&nbsp;</p></a>';
						}
					} catch(e) {
						alert('Doesn\'t exist that variable');
					}
				}
				
				return code;
			}
		</script>
	</body>
</html>
